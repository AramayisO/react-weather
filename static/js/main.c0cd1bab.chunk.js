(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),r=n(10),o=n.n(r),s=(n(16),n(2)),d=n.n(s),h=n(4),u=n(5),l=n(6),p=n(3),j=n(8),m=n(7),b=function(){var e=Object(h.a)(d.a.mark((function e(t,n){var a,c,i,r,o,s,h,u=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:"imperial",c="3a5ef97d5c991664889ce80030c61436",i="".concat("https://api.openweathermap.org/data/2.5/onecall","?lat=").concat(t,"&lon=").concat(n,"&units=").concat(a,"&appid=").concat(c),e.next=6,fetch(i);case 6:return r=e.sent,e.next=9,r.json();case 9:return o=e.sent,s=o.current,h=o.daily,e.abrupt("return",{current:s,daily:h});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]},y=function(e){var t=e.iconId,n="http://openweathermap.org/img/wn/".concat(t,"@2x.png");return Object(a.jsx)("img",{src:n,alt:"weather icon"})},x=function(e){return Object(a.jsxs)("div",{className:"WeatherDetails",children:[Object(a.jsx)("p",{className:"text_large",children:e.location}),Object(a.jsx)("p",{children:e.dayOfWeek}),Object(a.jsx)("p",{children:e.weatherCondition}),Object(a.jsxs)("div",{className:"details_wrapper",children:[Object(a.jsxs)("div",{className:"icon_and_current",children:[Object(a.jsx)(y,{iconId:e.icon}),Object(a.jsx)("span",{className:"text_large",children:e.currentTemp}),Object(a.jsx)("span",{children:"\xb0F"}),Object(a.jsx)("span",{children:"|"}),Object(a.jsx)("span",{children:"\xb0C"})]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["High: ",e.highTemp,"\xb0"]}),Object(a.jsxs)("p",{children:["Low: ",e.lowTemp,"\xb0"]}),Object(a.jsxs)("p",{children:["Precipitation: ",e.precipitation,"%"]}),Object(a.jsxs)("p",{children:["Humidity: ",e.humidity,"%"]}),Object(a.jsxs)("p",{children:["Wind: ",e.windSpeed," ","imperial"===e.units?"mph":"km/h"]})]})]})]})},v=function(e){var t=e.temp;return Object(a.jsxs)("span",{children:[t,"\xb0"]})},f=function(e){var t=e.dayOfWeek,n=e.icon,c=e.highTemp,i=e.lowTemp,r=e.isActive,o=e.index,s=e.onSelected;return Object(a.jsxs)("div",{className:"WeatherSummary ".concat(r?"WeatherSummary-active":""),onClick:function(){return s(o)},children:[Object(a.jsx)("p",{children:t}),Object(a.jsx)(y,{iconId:n}),Object(a.jsxs)("div",{className:"WeatherSummary-temps",children:[Object(a.jsx)(v,{temp:c}),Object(a.jsx)(v,{temp:i})]})]})},g=function(e){var t=e.forecast,n=e.activeDay,c=e.onActiveDayChanged;return Object(a.jsx)("div",{children:t.slice(0,5).map((function(e,t){return Object(a.jsx)(f,{dayOfWeek:e.dayOfWeek,index:t,icon:e.icon,highTemp:Math.round(e.highTemp),lowTemp:Math.round(e.lowTemp),isActive:t===n,onSelected:c},t)}))})},w=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={location:""},a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(l.a)(n,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.location),this.setState({location:""})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("input",{type:"text",placeholder:"Search city name",value:this.state.location,onChange:function(t){return e.setState({location:t.target.value})}}),Object(a.jsx)("button",{type:"submit",children:"Search"})]})}}]),n}(i.a.Component),S=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={isLoading:!0,weather:null,error:null,activeDay:0},a.handleActiveDayChange=a.handleActiveDayChange.bind(Object(p.a)(a)),a.newLocationSearched=a.newLocationSearched.bind(Object(p.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition(function(){var t=Object(h.a)(d.a.mark((function t(n){var a,c,i,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.coords,c=a.latitude,i=a.longitude,t.prev=1,t.next=4,b(c,i);case 4:r=t.sent,e.setState({weather:r,isLoading:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.setState({error:"Oh no \ud83d\ude14 We were unable to get weather data at this time.",isLoading:!1});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),(function(t){e.setState({error:"Ooops \ud83d\ude13 We were unable to get your current location.",isLoading:!1})}))}},{key:"handleActiveDayChange",value:function(e){this.setState({activeDay:e})}},{key:"newLocationSearched",value:function(e){console.log("You searched for ".concat(e))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.weather,c=e.error,i=e.activeDay,r=Object(a.jsx)(a.Fragment,{children:c?Object(a.jsx)("p",{children:c}):n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{onSubmit:this.newLocationSearched}),Object(a.jsx)(x,{location:"Current Location",dayOfWeek:O(1e3*n.daily[i].dt),weatherCondition:n.daily[i].weather[0].description,icon:n.daily[i].weather[0].icon,units:"imperial",currentTemp:n.current.temp,lowTemp:n.daily[i].temp.min,highTemp:n.daily[i].temp.max,precipitation:100*n.daily[i].pop,humidity:n.daily[i].humidity,windSpeed:n.daily[i].wind_speed}),Object(a.jsx)(g,{forecast:n.daily.map((function(e){return{dayOfWeek:O(1e3*e.dt),icon:e.weather[0].icon,highTemp:e.temp.max,lowTemp:e.temp.min}})),activeDay:i,onActiveDayChanged:this.handleActiveDayChange})]})});return Object(a.jsx)("div",{children:t?Object(a.jsx)("p",{children:"Loading...\u23f3"}):Object(a.jsx)(a.Fragment,{children:r})})}}]),n}(i.a.Component),k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root")),k()}},[[18,1,2]]]);
//# sourceMappingURL=main.c0cd1bab.chunk.js.map